-- Вставка тестовых типов культур (CropType)
INSERT INTO crop_types (name, category, growing_season_days, optimal_temperature_min, optimal_temperature_max, water_requirements_mm, notes)
VALUES
    ('Пшеница озимая', 'Зерновые', 280, 3, 25, 450, 'Основная зерновая культура для производства хлеба'),
    ('Пшеница яровая', 'Зерновые', 100, 15, 28, 300, 'Высокобелковая пшеница'),
    ('Ячмень', 'Зерновые', 90, 12, 25, 250, 'Используется для производства пива и корма'),
    ('Овес', 'Зерновые', 95, 10, 22, 280, 'Кормовая и пищевая культура'),
    ('Рожь', 'Зерновые', 270, 5, 20, 400, 'Морозоустойчивая культура'),
    ('Соя', 'Бобовые', 120, 18, 30, 500, 'Высокобелковая бобовая культура'),
    ('Горох', 'Бобовые', 80, 12, 25, 300, 'Азотфиксирующая культура'),
    ('Нут', 'Бобовые', 110, 20, 32, 350, 'Засухоустойчивая бобовая культура'),
    ('Люпин', 'Бобовые', 100, 15, 25, 320, 'Сидеральная и кормовая культура'),
    ('Чечевица', 'Бобовые', 95, 18, 28, 280, 'Высокопитательная бобовая культура');

-- Вставка тестовых сортов культур (CropVariety)
INSERT INTO crop_varieties (name, crop_type_id, seed_producer, maturation_days, drought_tolerance, frost_tolerance, recommended_seeding_rate_kg_per_ha, seed_cost_per_kg, is_hybrid, notes)
VALUES
    -- Сорта пшеницы озимой
    ('Московская 39', 1, 'НИИСХ ЦРНЗ', 280, 'MEDIUM', 'HIGH', 180, 45.50, false, 'Высокоурожайный сорт с отличной зимостойкостью'),
    ('Немчиновская 85', 1, 'Немчиновка', 275, 'MEDIUM', 'VERY_HIGH', 190, 48.00, false, 'Сорт интенсивного типа'),
    
    -- Сорта пшеницы яровой
    ('Саратовская 29', 2, 'НИИСХ ЮВ', 95, 'HIGH', 'LOW', 220, 42.00, false, 'Засухоустойчивый сорт'),
    ('Омская 36', 2, 'СибНИИСХ', 100, 'MEDIUM', 'MEDIUM', 200, 40.00, false, 'Сорт для Сибири'),
    
    -- Сорта ячменя
    ('Владимир', 3, 'ВНИИ пивоваренной промышленности', 85, 'MEDIUM', 'MEDIUM', 180, 35.00, false, 'Пивоваренный ячмень'),
    ('Раушан', 3, 'Татарский НИИСХ', 90, 'HIGH', 'LOW', 170, 32.00, false, 'Кормовой ячмень'),
    
    -- Сорта овса
    ('Скакун', 4, 'ВНИИ кормов', 92, 'LOW', 'HIGH', 200, 28.00, false, 'Кормовой овес'),
    
    -- Сорта ржи
    ('Саратовская 5', 5, 'НИИСХ ЮВ', 265, 'HIGH', 'VERY_HIGH', 160, 38.00, false, 'Морозостойкий сорт'),
    
    -- Сорта сои
    ('Билявка', 6, 'Институт земледелия', 115, 'MEDIUM', 'LOW', 80, 120.00, false, 'Раннеспелый сорт'),
    ('СибНИИК 315', 6, 'СибНИИК', 120, 'HIGH', 'MEDIUM', 75, 125.00, false, 'Адаптированный для Сибири'),
    
    -- Сорта гороха
    ('Аксайский усатый 55', 7, 'АНЦ «Донской»', 75, 'MEDIUM', 'MEDIUM', 120, 65.00, false, 'Высокоурожайный усатый морфотип'),
    ('Фараон', 7, 'ВНИИ зернобобовых', 80, 'HIGH', 'LOW', 110, 70.00, false, 'Засухоустойчивый'),
    
    -- Сорта нута
    ('Волгоградский 10', 8, 'ВНИИОБ', 105, 'VERY_HIGH', 'LOW', 90, 95.00, false, 'Очень засухоустойчивый'),
    
    -- Сорта люпина
    ('Кристалл', 9, 'ВНИИ люпина', 95, 'LOW', 'MEDIUM', 140, 55.00, false, 'Белый люпин'),
    
    -- Сорта чечевицы
    ('Анфия', 10, 'ВНИИ зернобобовых', 90, 'HIGH', 'LOW', 100, 110.00, false, 'Высокопродуктивный сорт');

-- Вставка болезней (Disease)
INSERT INTO diseases (scientific_name, common_name, disease_type, symptoms, prevention_measures, treatment_methods, risk_level, active_season, favorable_conditions, image_url, is_active)
VALUES
    ('Puccinia graminis', 'Стеблевая ржавчина', 'FUNGAL', 'Ржаво-коричневые пустулы на стеблях и листьях', 'Севооборот, устойчивые сорта, своевременный посев', 'Фунгициды: триазолы, стробилурины', 'HIGH', 'Лето', 'Высокая влажность, температура 15-25°C', null, true),
    ('Fusarium graminearum', 'Фузариоз колоса', 'FUNGAL', 'Белесый налет на колосе, щуплость зерна', 'Протравливание семян, севооборот', 'Фунгициды на основе беномила', 'CRITICAL', 'Цветение-налив', 'Влажная теплая погода во время цветения', null, true),
    ('Septoria tritici', 'Септориоз листьев', 'FUNGAL', 'Пятна с пикнидами на листьях', 'Удаление растительных остатков, севооборот', 'Фунгициды азолы, стробилурины', 'MEDIUM', 'Весна-лето', 'Затяжные дожди, умеренная температура', null, true),
    ('Blumeria graminis', 'Мучнистая роса', 'FUNGAL', 'Белый мучнистый налет на листьях', 'Оптимальная густота посева, фунгициды', 'Препараты серы, триазолы', 'MEDIUM', 'Весна-начало лета', 'Высокая влажность, температура 15-20°C', null, true),
    ('Tilletia caries', 'Твердая головня пшеницы', 'FUNGAL', 'Черная споровая масса вместо зерна', 'Протравливание семян', 'Системные фунгициды-протравители', 'HIGH', 'Всходы-кущение', 'Холодная влажная почва при прорастании', null, true),
    ('Pseudomonas syringae', 'Бактериальный ожог', 'BACTERIAL', 'Водянистые пятна, некрозы', 'Здоровые семена, севооборот', 'Медьсодержащие препараты', 'LOW', 'Весна', 'Высокая влажность, механические повреждения', null, true),
    ('Barley Yellow Dwarf Virus', 'Вирус желтой карликовости ячменя', 'VIRAL', 'Пожелтение, карликовость растений', 'Борьба с тлей-переносчиком, ранний посев', 'Инсектициды против тли', 'MEDIUM', 'Весна-лето', 'Массовое размножение тли', null, true),
    ('Rhynchosporium secalis', 'Ринхоспориоз', 'FUNGAL', 'Коричневые пятна с темной каймой', 'Севооборот, устойчивые сорта', 'Фунгициды триазолы', 'MEDIUM', 'Весна', 'Прохладная влажная погода', null, true),
    ('Ascochyta fabae', 'Аскохитоз гороха', 'FUNGAL', 'Пятна на листьях, стеблях и бобах', 'Протравливание семян, севооборот', 'Фунгициды на основе манкоцеба', 'HIGH', 'Лето', 'Влажная погода', null, true),
    ('Sclerotinia sclerotiorum', 'Белая гниль', 'FUNGAL', 'Белый ватный мицелий, склероции', 'Севооборот, удаление растительных остатков', 'Биопрепараты, фунгициды', 'MEDIUM', 'Цветение-созревание', 'Высокая влажность, загущенные посевы', null, true);

-- Связь болезней с культурами (disease_affected_crops) - Many-to-Many
INSERT INTO disease_affected_crops (disease_id, crop_type_id)
VALUES
    -- Стеблевая ржавчина поражает зерновые
    (1, 1), (1, 2), (1, 3), (1, 4), (1, 5),
    -- Фузариоз колоса - зерновые
    (2, 1), (2, 2), (2, 3), (2, 5),
    -- Септориоз - пшеница
    (3, 1), (3, 2),
    -- Мучнистая роса - зерновые
    (4, 1), (4, 2), (4, 3), (4, 5),
    -- Твердая головня - пшеница
    (5, 1), (5, 2),
    -- Бактериальный ожог - разные культуры
    (6, 1), (6, 2), (6, 6), (6, 7),
    -- Вирус желтой карликовости - зерновые
    (7, 3), (7, 4), (7, 1),
    -- Ринхоспориоз - ячмень, рожь
    (8, 3), (8, 5),
    -- Аскохитоз - бобовые
    (9, 7), (9, 8), (9, 10),
    -- Белая гниль - бобовые
    (10, 6), (10, 7), (10, 8);

-- Устойчивость сортов к болезням (DiseaseResistance)
INSERT INTO disease_resistances (disease_id, crop_variety_id, resistance_level)
VALUES
    -- Московская 39
    (1, 1, 'HIGH'), (2, 1, 'MEDIUM'), (3, 1, 'MEDIUM'), (4, 1, 'HIGH'), (5, 1, 'HIGH'),
    -- Немчиновская 85
    (1, 2, 'VERY_HIGH'), (2, 2, 'HIGH'), (3, 2, 'HIGH'), (4, 2, 'MEDIUM'), (5, 2, 'HIGH'),
    -- Саратовская 29
    (1, 3, 'MEDIUM'), (2, 3, 'MEDIUM'), (3, 3, 'LOW'), (4, 3, 'MEDIUM'), (5, 3, 'MEDIUM'),
    -- Омская 36
    (1, 4, 'HIGH'), (2, 4, 'HIGH'), (3, 4, 'MEDIUM'), (4, 4, 'HIGH'), (5, 4, 'MEDIUM'),
    -- Владимир (ячмень)
    (1, 5, 'MEDIUM'), (4, 5, 'MEDIUM'), (7, 5, 'LOW'), (8, 5, 'HIGH'),
    -- Раушан (ячмень)
    (1, 6, 'HIGH'), (4, 6, 'HIGH'), (7, 6, 'MEDIUM'), (8, 6, 'MEDIUM'),
    -- Скакун (овес)
    (1, 7, 'MEDIUM'), (4, 7, 'MEDIUM'), (7, 7, 'MEDIUM'),
    -- Саратовская 5 (рожь)
    (1, 8, 'HIGH'), (4, 8, 'HIGH'), (8, 8, 'MEDIUM'),
    -- Билявка (соя)
    (6, 9, 'MEDIUM'), (10, 9, 'LOW'),
    -- СибНИИК 315 (соя)
    (6, 10, 'HIGH'), (10, 10, 'MEDIUM'),
    -- Аксайский усатый 55 (горох)
    (6, 11, 'MEDIUM'), (9, 11, 'HIGH'), (10, 11, 'MEDIUM'),
    -- Фараон (горох)
    (6, 12, 'HIGH'), (9, 12, 'MEDIUM'), (10, 12, 'HIGH'),
    -- Волгоградский 10 (нут)
    (9, 13, 'HIGH'), (10, 13, 'MEDIUM'),
    -- Кристалл (люпин)
    (10, 14, 'MEDIUM'),
    -- Анфия (чечевица)
    (9, 15, 'MEDIUM'), (10, 15, 'MEDIUM');

-- Вставка тестовых полей (AgriculturalField)
-- Используем простые геометрии для тестирования
INSERT INTO agricultural_fields (field_name, crop_type, status, geom, holes, area_hectares)
VALUES
    ('Поле Северное', 'wheat', 'active', 
     ST_GeomFromText('POLYGON((37.6 55.7, 37.65 55.7, 37.65 55.72, 37.6 55.72, 37.6 55.7))', 4326),
     null, 125.50),
     
    ('Поле Южное', 'barley', 'active',
     ST_GeomFromText('POLYGON((37.6 55.68, 37.65 55.68, 37.65 55.69, 37.6 55.69, 37.6 55.68))', 4326),
     null, 98.30),
     
    ('Поле Восточное', 'soybean', 'planned',
     ST_GeomFromText('POLYGON((37.66 55.7, 37.7 55.7, 37.7 55.72, 37.66 55.72, 37.66 55.7))', 4326),
     null, 156.75),
     
    ('Поле Западное', 'pea', 'active',
     ST_GeomFromText('POLYGON((37.55 55.7, 37.58 55.7, 37.58 55.72, 37.55 55.72, 37.55 55.7))', 4326),
     null, 89.20),
     
    ('Поле Центральное', 'wheat', 'active',
     ST_GeomFromText('POLYGON((37.62 55.705, 37.64 55.705, 37.64 55.715, 37.62 55.715, 37.62 55.705))', 4326),
     null, 67.40);

-- Вставка истории посевов (CropHistory)
INSERT INTO crop_history (field_id, crop_type_id, crop_variety_id, planting_date, actual_harvest_date, expected_harvest_date, 
                          seed_amount_kg_per_ha, seed_depth_cm, plant_spacing_cm, actual_yield_kg, expected_yield_kg, 
                          planting_status, notes, weather_conditions)
VALUES
    -- 2024 год - завершенные посевы
    (1, 1, 1, '2023-09-15', '2024-07-20', '2024-07-25', 180, 5, 15, 4850, 5000, 'HARVESTED', 
     'Урожай немного ниже ожидаемого из-за засухи в июне', 'Засушливый июнь, оптимальные условия уборки'),
     
    (2, 3, 5, '2024-04-10', '2024-07-15', '2024-07-18', 175, 4, 14, 3920, 4000, 'HARVESTED',
     'Хороший урожай пивоваренного ячменя', 'Умеренные осадки, температура в норме'),
     
    -- 2025 год - текущие посевы
    (1, 1, 2, '2024-09-20', null, '2025-07-28', 190, 5, 15, null, 5200, 'GROWING',
     'Посев Немчиновской 85, хорошие всходы', 'Благоприятная осень для озимых'),
     
    (3, 6, 9, '2025-05-05', null, '2025-09-10', 80, 6, 30, null, 2500, 'GROWING',
     'Первый опыт выращивания сои на этом поле', 'Теплая весна, оптимальная влажность'),
     
    (4, 7, 11, '2025-04-20', null, '2025-07-15', 120, 5, 20, null, 3200, 'GROWING',
     'Аксайский усатый - отличные всходы', 'Достаточно осадков в мае'),
     
    (5, 2, 3, '2025-04-25', null, '2025-08-05', 220, 5, 15, null, 3800, 'PLANTED',
     'Саратовская 29 высеяна в оптимальные сроки', 'Ожидаются благоприятные условия'),
     
    -- 2024 весна - завершенные
    (4, 7, 12, '2024-04-22', '2024-07-18', '2024-07-20', 110, 5, 20, 3150, 3000, 'HARVESTED',
     'Отличный урожай гороха Фараон, превысил ожидания', 'Оптимальные погодные условия'),
     
    (5, 3, 6, '2024-04-15', '2024-07-22', '2024-07-25', 170, 4, 14, 3650, 3800, 'HARVESTED',
     'Раушан - кормовой ячмень, хорошее качество', 'Умеренная погода весь сезон'),
     
    -- Планируемые посевы
    (2, 4, 7, '2025-04-12', null, '2025-07-20', 200, 5, 15, null, 3500, 'PLANNED',
     'Планируется посев овса Скакун', 'Прогноз благоприятный');
