-- =============================================
-- agricultural_fields
-- =============================================
INSERT INTO agricultural_fields (field_name, crop_type, status, geom, area_hectares) VALUES
('Поле Северное',  'Пшеница', 'active', ST_GeomFromText('POLYGON((55.0 73.0, 55.1 73.0, 55.1 73.1, 55.0 73.1, 55.0 73.0))', 4326), 45.20),
('Поле Южное',     'Ячмень',  'active', ST_GeomFromText('POLYGON((54.9 73.1, 55.0 73.1, 55.0 73.2, 54.9 73.2, 54.9 73.1))', 4326), 38.75),
('Поле Западное',  'Подсолнечник', 'active', ST_GeomFromText('POLYGON((54.8 72.9, 54.9 72.9, 54.9 73.0, 54.8 73.0, 54.8 72.9))', 4326), 62.10),
('Поле Восточное', 'Кукуруза', 'fallow', ST_GeomFromText('POLYGON((55.1 73.1, 55.2 73.1, 55.2 73.2, 55.1 73.2, 55.1 73.1))', 4326), 29.50),
('Поле Центральное','Соя',    'active', ST_GeomFromText('POLYGON((55.0 73.05, 55.05 73.05, 55.05 73.1, 55.0 73.1, 55.0 73.05))', 4326), 18.30);

-- =============================================
-- crop_types
-- =============================================
INSERT INTO crop_types (name, category, growing_season_days, optimal_temperature_min, optimal_temperature_max, water_requirements_mm, notes) VALUES
('Пшеница яровая',    'Зерновые',    90,  12.00, 22.00, 300.00, 'Основная зерновая культура. Хорошо переносит засуху.'),
('Пшеница озимая',    'Зерновые',   270,   5.00, 20.00, 350.00, 'Высевается осенью, зимует под снегом.'),
('Ячмень яровой',     'Зерновые',    75,  10.00, 20.00, 250.00, 'Скороспелая культура, устойчива к засухе.'),
('Кукуруза',          'Зерновые',   130,  18.00, 30.00, 500.00, 'Теплолюбивая культура, требует достаточного увлажнения.'),
('Подсолнечник',      'Масличные',  110,  16.00, 28.00, 400.00, 'Основная масличная культура. Глубокая корневая система.'),
('Соя',               'Бобовые',    120,  18.00, 28.00, 450.00, 'Азотфиксирующая культура. Хороший предшественник.'),
('Рапс яровой',       'Масличные',   95,  10.00, 22.00, 350.00, 'Ранний предшественник для зерновых.'),
('Горох',             'Бобовые',     80,  12.00, 22.00, 280.00, 'Бобовая культура, улучшает структуру почвы.'),
('Лён масличный',     'Масличные',   90,  12.00, 22.00, 250.00, 'Засухоустойчивая масличная культура.'),
('Гречиха',           'Крупяные',    75,  15.00, 25.00, 300.00, 'Хороший медонос, нетребователен к почве.');

-- =============================================
-- crop_varieties
-- =============================================
INSERT INTO crop_varieties (name, crop_type_id, seed_producer, maturation_days, drought_tolerance, frost_tolerance, recommended_seeding_rate_kg_per_ha, seed_cost_per_kg, is_hybrid, notes) VALUES
('Омская 36',         1, 'СибНИИСХ',        85, 'HIGH',        'MEDIUM', 220.00, 45.00, false, 'Высокоурожайный сорт для Западной Сибири.'),
('Новосибирская 31',  1, 'СибНИИРС',        88, 'MEDIUM',      'HIGH',   230.00, 42.00, false, 'Устойчив к полеганию и осыпанию.'),
('Алтайская 70',      2, 'Алтайский НИИСХ', 265,'MEDIUM',      'HIGH',   220.00, 40.00, false, 'Зимостойкий сорт для Алтайского края.'),
('Сибирский Казак',   3, 'СибНИИСХ',        72, 'HIGH',        'MEDIUM', 180.00, 38.00, false, 'Скороспелый засухоустойчивый сорт.'),
('Омский 90',         3, 'СибНИИСХ',        78, 'HIGH',        'LOW',    190.00, 36.00, false, 'Высокая продуктивность в засушливых условиях.'),
('Росс 130 МВ',       4, 'Краснодарский НИИСХ', 128, 'MEDIUM', 'LOW',    20.00, 180.00, true,  'Гибрид с высоким потенциалом урожайности.'),
('Пионер П8400',      4, 'Pioneer',          125, 'HIGH',       'LOW',    18.00, 220.00, true,  'Засухоустойчивый гибрид кукурузы.'),
('Енисей',            5, 'ВНИИМК',           108, 'HIGH',       'LOW',    8.00,  95.00, false, 'Классический сорт подсолнечника.'),
('Лакомка',           5, 'ВНИИМК',           112, 'MEDIUM',     'LOW',    7.50, 110.00, false, 'Кондитерский сорт, крупное зерно.'),
('Сибирячка 1',       6, 'СибНИИСХ',        118, 'MEDIUM',     'LOW',    80.00, 120.00, false, 'Адаптирован к условиям Западной Сибири.'),
('Сибиряк',           7, 'СибНИИСХ',         92, 'MEDIUM',     'MEDIUM', 6.00,  85.00, false, 'Устойчив к полеганию.'),
('Омский 9',          8, 'СибНИИСХ',         78, 'MEDIUM',     'MEDIUM', 220.00, 55.00, false, 'Высокобелковый сорт гороха.');

-- =============================================
-- diseases
-- =============================================
INSERT INTO diseases (scientific_name, common_name, disease_type, symptoms, prevention_measures, treatment_methods, risk_level, active_season, favorable_conditions, image_url, is_active) VALUES
('Puccinia triticina',       'Бурая ржавчина пшеницы',   'FUNGAL',      'Оранжево-бурые пустулы на листьях и стеблях',                          'Устойчивые сорта, ранние сроки сева',          'Фунгициды на основе триазолов',           'HIGH',     'Лето',        'Температура 15-25°C, высокая влажность (>80%)',  NULL, true),
('Fusarium graminearum',     'Фузариоз колоса',           'FUNGAL',      'Розово-белый налёт на колосьях, щуплое зерно',                         'Протравливание семян, севооборот',             'Фунгициды группы стробилуринов',          'CRITICAL',  'Колошение',  'Дождливая погода при температуре 25-30°C',       NULL, true),
('Blumeria graminis',        'Мучнистая роса',            'FUNGAL',      'Белый мучнистый налёт на листьях и стеблях',                           'Устойчивые сорта, оптимальная густота посева', 'Фунгициды на основе морфолинов',          'MEDIUM',   'Весна-лето',  'Умеренная температура, переменная влажность',    NULL, true),
('Septoria tritici',         'Септориоз листьев',         'FUNGAL',      'Светло-бурые пятна с тёмными пикнидами на листьях',                    'Протравливание семян, устойчивые сорта',       'Фунгициды на основе триазолов',           'HIGH',     'Весна-лето',  'Дождливая прохладная погода (15-20°C)',           NULL, true),
('Helminthosporium teres',   'Сетчатая пятнистость ячменя','FUNGAL',     'Сетчатые коричневые пятна на листьях',                                 'Протравливание семян, севооборот',             'Фунгициды на основе триазолов',           'HIGH',     'Лето',        'Влажная погода, температура 15-25°C',             NULL, true),
('Sclerotinia sclerotiorum', 'Белая гниль подсолнечника', 'FUNGAL',      'Белый ватообразный мицелий на стебле и корзинке, склероции',           'Севооборот не менее 5 лет, фунгициды',         'Фунгициды на основе боскалида',           'HIGH',     'Лето',        'Прохладная влажная погода в период цветения',    NULL, true),
('Phytophthora sojae',       'Фитофтороз сои',            'FUNGAL',      'Побурение и гниль корней и стебля, увядание растений',                 'Устойчивые сорта, дренаж почвы',              'Фунгициды на основе металаксила',         'HIGH',     'Лето',        'Переувлажнение почвы, температура 20-30°C',       NULL, true),
('Ustilago maydis',          'Пузырчатая головня кукурузы','FUNGAL',     'Вздутия-галлы на всех надземных органах, заполненные чёрной пылью',    'Устойчивые гибриды, протравливание семян',     'Профилактические фунгициды',              'MEDIUM',   'Лето',        'Сухая жаркая погода, механические повреждения',  NULL, true),
('Xanthomonas campestris',   'Чёрная гниль крестоцветных','BACTERIAL',   'V-образные жёлтые пятна от края листа, почернение жилок',             'Здоровые семена, севооборот',                  'Медьсодержащие препараты',                'MEDIUM',   'Лето',        'Тёплая влажная погода, повреждения насекомыми',  NULL, true),
('Acyrthosiphon pisum',      'Гороховая тля',             'PHYSIOLOGICAL','Скручивание листьев, деформация побегов, медвяная роса',              'Инсектициды, привлечение хищников',            'Инсектициды на основе пиретроидов',       'MEDIUM',   'Весна-лето',  'Сухая тёплая погода, температура 20-25°C',       NULL, true);

-- =============================================
-- disease_affected_crops
-- =============================================
INSERT INTO disease_affected_crops (disease_id, crop_type_id) VALUES
(1, 1), (1, 2),       -- Бурая ржавчина: пшеница яровая, озимая
(2, 1), (2, 2), (2, 3), -- Фузариоз колоса: пшеница яровая, озимая, ячмень
(3, 1), (3, 2), (3, 3), -- Мучнистая роса: пшеница яровая, озимая, ячмень
(4, 1), (4, 2),       -- Септориоз: пшеница яровая, озимая
(5, 3),               -- Сетчатая пятнистость: ячмень
(6, 5),               -- Белая гниль: подсолнечник
(7, 6),               -- Фитофтороз: соя
(8, 4),               -- Пузырчатая головня: кукуруза
(9, 7),               -- Чёрная гниль: рапс
(10, 8);              -- Гороховая тля: горох

-- =============================================
-- disease_resistances
-- =============================================
INSERT INTO disease_resistances (disease_id, crop_variety_id, resistance_level) VALUES
(1, 1, 'MODERATELY_RESISTANT'),   -- Омская 36 / Бурая ржавчина
(1, 2, 'RESISTANT'),              -- Новосибирская 31 / Бурая ржавчина
(2, 1, 'MODERATELY_SUSCEPTIBLE'), -- Омская 36 / Фузариоз
(2, 2, 'MODERATELY_SUSCEPTIBLE'), -- Новосибирская 31 / Фузариоз
(3, 1, 'MODERATELY_RESISTANT'),   -- Омская 36 / Мучнистая роса
(3, 3, 'RESISTANT'),              -- Алтайская 70 / Мучнистая роса
(4, 1, 'MODERATELY_SUSCEPTIBLE'), -- Омская 36 / Септориоз
(5, 4, 'MODERATELY_RESISTANT'),   -- Сибирский Казак / Сетчатая пятнистость
(5, 5, 'SUSCEPTIBLE'),            -- Омский 90 / Сетчатая пятнистость
(6, 8, 'MODERATELY_SUSCEPTIBLE'), -- Енисей / Белая гниль
(6, 9, 'MODERATELY_RESISTANT'),   -- Лакомка / Белая гниль
(7, 10,'MODERATELY_RESISTANT'),   -- Сибирячка 1 / Фитофтороз
(8, 6, 'MODERATELY_RESISTANT'),   -- Росс 130 МВ / Пузырчатая головня
(8, 7, 'RESISTANT');              -- Пионер П8400 / Пузырчатая головня

-- =============================================
-- crop_history
-- =============================================
INSERT INTO crop_history (field_id, crop_type_id, crop_variety_id, planting_date, expected_harvest_date, actual_harvest_date, seed_amount_kg_per_ha, seed_depth_cm, plant_spacing_cm, expected_yield_kg, actual_yield_kg, planting_status, notes, weather_conditions) VALUES
-- Поле Северное (id=1): пшеница 2022 → ячмень 2023 → пшеница 2024
(1, 1, 1, '2022-05-15', '2022-08-20', '2022-08-18', 220.00, 5.00, NULL, 135000.00, 128500.00, 'HARVESTED', 'Хороший урожай, без существенных потерь', 'Засушливый июль, осадки в норме'),
(1, 3, 4, '2023-05-10', '2023-07-25', '2023-07-22', 185.00, 4.00, NULL, 110000.00, 118000.00, 'HARVESTED', 'Урожай выше ожидаемого', 'Благоприятные условия весь сезон'),
(1, 1, 2, '2024-05-12', '2024-08-18', NULL,          225.00, 5.00, NULL, 140000.00, NULL,       'GROWING',  'Посев в оптимальные сроки', 'Весна ранняя, достаточно влаги'),

-- Поле Южное (id=2): подсолнечник 2022 → пшеница 2023 → ячмень 2024
(2, 5, 8, '2022-05-20', '2022-09-10', '2022-09-08', 8.00,  5.00, 70.00, 90000.00,  85000.00,  'HARVESTED', 'Небольшое поражение белой гнилью', 'Дождливый август'),
(2, 1, 1, '2023-05-08', '2023-08-15', '2023-08-14', 220.00, 5.00, NULL, 105000.00, 112000.00, 'HARVESTED', 'Отличный предшественник — подсолнечник', 'Тёплое лето, осадки в норме'),
(2, 3, 5, '2024-05-05', '2024-07-20', NULL,          190.00, 4.00, NULL, 95000.00,  NULL,       'PLANTED',  'Ранний сев', 'Прохладная весна'),

-- Поле Западное (id=3): соя 2022 → пшеница 2023 → подсолнечник 2024
(3, 6, 10,'2022-05-25', '2022-09-15', '2022-09-12', 80.00,  4.00, 45.00, 70000.00,  68000.00,  'HARVESTED', 'Хорошая азотфиксация', 'Тёплое лето'),
(3, 1, 2, '2023-05-10', '2023-08-20', '2023-08-19', 230.00, 5.00, NULL, 180000.00, 175000.00, 'HARVESTED', 'Высокий урожай после сои', 'Благоприятный сезон'),
(3, 5, 9, '2024-05-18', '2024-09-05', NULL,          7.50,  5.00, 70.00, 155000.00, NULL,       'GROWING',  'Посев в оптимальные сроки', 'Тёплая весна'),

-- Поле Восточное (id=4): кукуруза 2022 → пар 2023 → планируется пшеница 2024
(4, 4, 6, '2022-05-22', '2022-09-20', '2022-09-18', 20.00,  6.00, 70.00, 80000.00,  74000.00,  'HARVESTED', 'Засуха в июле снизила урожай', 'Засушливый июль'),
(4, 1, 1, '2024-05-14', '2024-08-22', NULL,          220.00, 5.00, NULL, 87000.00,  NULL,       'PLANNED',  'После парового поля', 'Прогноз благоприятный'),

-- Поле Центральное (id=5): горох 2022 → пшеница 2023 → соя 2024
(5, 8, 12,'2022-05-12', '2022-07-30', '2022-07-28', 220.00, 5.00, NULL, 45000.00,  48000.00,  'HARVESTED', 'Урожай выше плана', 'Хорошее увлажнение'),
(5, 1, 2, '2023-05-08', '2023-08-15', '2023-08-13', 225.00, 5.00, NULL, 55000.00,  58000.00,  'HARVESTED', 'Отличный предшественник — горох', 'Тёплое лето'),
(5, 6, 10,'2024-05-20', '2024-09-10', NULL,          80.00,  4.00, 45.00, 35000.00, NULL,       'GROWING',  'Планируется как предшественник под пшеницу', 'Весна в норме');
